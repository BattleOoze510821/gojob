{"version":3,"sources":["webpack:///./src/views/cluster/NodeList.vue?8621","webpack:///./src/api/ClusterApi.js","webpack:///src/views/cluster/NodeList.vue","webpack:///./src/views/cluster/NodeList.vue?4d66","webpack:///./src/views/cluster/NodeList.vue","webpack:///./src/views/cluster/NodeList.vue?2d67"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","handleRefresh","_v","ref","staticStyle","table_date","height","padding","scopedSlots","_u","key","fn","scope","_s","row","nodeName","tcpAddr","status","_e","allowOffline","$event","handleOffline","staticRenderFns","clusterApi","request","url","method","_params","name","data","created","getData","methods","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,KAAO,mBAAmBC,GAAG,CAAC,MAAQR,EAAIS,gBAAgB,CAACT,EAAIU,GAAG,SAAS,GAAGN,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACO,IAAI,gBAAgBC,YAAY,CAAC,MAAQ,QAAQL,MAAM,CAAC,KAAOP,EAAIa,WAAW,OAAS,GAAG,YAAY,CAACC,OAAO,QAAQ,mBAAmB,CAACA,OAAO,QAAQ,aAAa,CAACC,QAAQ,SAAS,CAACX,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,UAAUS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACpB,EAAIU,GAAG,mBAAmBV,EAAIqB,GAAGD,EAAME,IAAIC,UAAU,IAAIvB,EAAIqB,GAAGD,EAAME,IAAIE,SAAS,wBAAwBpB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,MAAM,MAAQ,UAAUS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAoB,MAAlBA,EAAME,IAAIG,OAAcrB,EAAG,QAAQJ,EAAI0B,KAAwB,KAAlBN,EAAME,IAAIG,OAAarB,EAAG,OAAO,CAACJ,EAAIU,GAAG,cAAcV,EAAI0B,KAAwB,KAAlBN,EAAME,IAAIG,OAAarB,EAAG,OAAO,CAACJ,EAAIU,GAAG,eAAeV,EAAI0B,KAAwB,KAAlBN,EAAME,IAAIG,OAAarB,EAAG,OAAO,CAACQ,YAAY,CAAC,MAAQ,YAAY,CAACZ,EAAIU,GAAG,YAAYV,EAAI0B,YAAYtB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,KAAK,MAAQ,MAAM,MAAQ,YAAYH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,SAAS,MAAQ,MAAM,MAAQ,YAAYH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,MAAM,MAAQ,UAAUS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAA0B,KAAxBA,EAAME,IAAIK,aAAmBvB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAO5B,EAAI6B,cAAcT,EAAME,IAAIC,aAAa,CAACvB,EAAIU,GAAG,QAAQV,EAAI0B,aAAa,IAAI,MACtrDI,EAAkB,G,YCGhBC,EAAa,CACnBA,SAAsB,WACpB,OAAOC,eAAQ,CACbC,IAAK,iBACJC,OAAQ,SAGbH,WAAwB,SAAUI,GAChC,OAAOH,eAAQ,CACbC,IAAK,mBAAmBE,EACvBD,OAAQ,UAGEH,ICoCf,GACEK,KAAM,WACNC,KAFF,WAGI,MAAO,CACLxB,WAAY,KAGhByB,QAPF,WAQIrC,KAAKsC,WAEPC,QAAS,CAEPD,QAFJ,WAEA,WACM,EAAN,6BACQ,EAAR,kBACQ,EAAR,6BAGI9B,cARJ,WASM,KAAN,WAEIoB,cAXJ,SAWA,cACM,EAAN,gCACQ,EAAR,gBC5EiW,I,wBCQ7VY,EAAY,eACd,EACA1C,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAW,E,oECnBf,yBAAsf,EAAG","file":"js/chunk-43d889f2.caca6aac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.handleRefresh}},[_vm._v(\"刷新\")])],1),_c('div',{staticClass:\"container\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.table_date,\"border\":\"\",\"row-style\":{height:'36px'},\"header-row-style\":{height:'36px'},\"cell-style\":{padding:'1px'}}},[_c('el-table-column',{attrs:{\"label\":\"节点\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.nodeName)+\"（\"+_vm._s(scope.row.tcpAddr)+\"）\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status=='-1')?_c('span'):_vm._e(),(scope.row.status=='0')?_c('span',[_vm._v(\"Follower\")]):_vm._e(),(scope.row.status=='1')?_c('span',[_vm._v(\"Candidate\")]):_vm._e(),(scope.row.status=='2')?_c('span',{staticStyle:{\"color\":\"#409EFF\"}},[_vm._v(\"Leader\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"suffrage\",\"label\":\"类型\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"lastContact\",\"label\":\"最近活跃时间\",\"width\":\"300\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.allowOffline=='1')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleOffline(scope.row.nodeName)}}},[_vm._v(\"下线\")]):_vm._e()]}}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n/**\r\n * cluster API 封装\r\n */\r\nconst clusterApi = {}\r\nclusterApi.getNodes = function () {\r\n  return request({\r\n    url: '/cluster/nodes'\r\n    ,method: 'get'\r\n  })\r\n}\r\nclusterApi.removeNode = function (_params) {\r\n  return request({\r\n    url: '/cluster/remove/'+_params\r\n    ,method: 'get'\r\n  })\r\n}\r\nexport default clusterApi","<template>\r\n  <div class=\"table\">\r\n    <div class=\"handle-box\">\r\n      <el-button\r\n        size=\"small\"\r\n        type=\"primary\"\r\n        icon=\"el-icon-refresh\"\r\n        @click=\"handleRefresh\"\r\n      >刷新</el-button>\r\n    </div>\r\n    <div class=\"container\">\r\n      <el-table\r\n        :data=\"table_date\"\r\n        border\r\n        style=\"width: 100%\"\r\n        ref=\"multipleTable\"\r\n        :row-style=\"{height:'36px'}\"\r\n        :header-row-style=\"{height:'36px'}\"\r\n        :cell-style=\"{padding:'1px'}\"\r\n      >\r\n        <el-table-column label=\"节点\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n                {{scope.row.nodeName}}（{{scope.row.tcpAddr}}）\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"150\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span v-if=\"scope.row.status=='-1'\"></span>\r\n              <span v-if=\"scope.row.status=='0'\">Follower</span>\r\n              <span v-if=\"scope.row.status=='1'\">Candidate</span>\r\n              <span style=\"color:#409EFF;\" v-if=\"scope.row.status=='2'\">Leader</span>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"suffrage\" label=\"类型\" width=\"150\" align=\"center\"/>\r\n        <el-table-column prop=\"lastContact\" label=\"最近活跃时间\" width=\"300\" align=\"center\"/>\r\n        <el-table-column label=\"操作\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              v-if=\"scope.row.allowOffline=='1'\"\r\n              @click=\"handleOffline(scope.row.nodeName)\"\r\n            >下线</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clusterApi from \"@/api/ClusterApi\";\r\n\r\nexport default {\r\n  name: \"NodeList\",\r\n  data() {\r\n    return {      \r\n      table_date: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    getData() {\r\n      clusterApi.getNodes().then(res => {\r\n        this.table_date = res.data;\r\n        this.table_data_total = res.total;\r\n      });\r\n    },\r\n    handleRefresh(){\r\n        this.getData();\r\n    },\r\n    handleOffline(nodeName){\r\n      clusterApi.removeNode(nodeName).then(res => {\r\n          this.getData();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.handle-box {\r\n  margin-bottom: 10px;\r\n}\r\n.handle-input {\r\n  width: 200px;\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n}\r\n.handle-select {\r\n  width: 100px;\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n}\r\n.del-dialog-cnt {\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodeList.vue?vue&type=template&id=0436987c&scoped=true&\"\nimport script from \"./NodeList.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodeList.vue?vue&type=style&index=0&id=0436987c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0436987c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeList.vue?vue&type=style&index=0&id=0436987c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeList.vue?vue&type=style&index=0&id=0436987c&scoped=true&lang=css&\""],"sourceRoot":""}